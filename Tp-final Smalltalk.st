Object subclass: #Juego	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Juego commentStamp: 'anele 6/22/2018 22:17' prior: 0!un juego!!Juego methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 22:23'!batallaEntre: unaUnidad y: otraUnidad	"se atacan las unidades hasta que alguna mueran todos sus tanques"	[unaUnidad hayTanquesVivos and: otraUnidad hayTanquesVivos ] whileTrue: [ unaUnidad atacarUnidad: otraUnidad. otraUnidad atacarUnidad: unaUnidad ]! !Object subclass: #Misil	instanceVariableNames: 'daño'	classVariableNames: 'perdida'	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Misil commentStamp: 'anele 6/17/2018 13:22' prior: 0!Un misil!!Misil methodsFor: 'printing' stamp: 'anele 6/20/2018 17:08'!printString^ self class name.! !!Misil methodsFor: 'as yet unclassified' stamp: 'anele 6/19/2018 16:25'!perdida	^ perdida ! !!Misil methodsFor: 'as yet unclassified' stamp: 'anele 6/19/2018 16:40'!perdidaDePrecisionPorVelocidad: unValor	^ self daño: self daño - unValor.! !!Misil methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:06'!impactar: unTanque unPromedio: unPromedio	self daño: self daño - (unPromedio/5) * perdida.	unTanque decrementarBlindaje: self daño ! !!Misil methodsFor: 'accesing' stamp: 'anele 6/17/2018 13:23'!daño: unaCantidad	daño:= unaCantidad ! !!Misil methodsFor: 'accesing' stamp: 'anele 6/17/2018 13:23'!daño	^ daño! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Misil class	instanceVariableNames: ''!!Misil class methodsFor: 'as yet unclassified' stamp: 'anele 6/21/2018 20:22'!perdida	^ self perdida! !!Misil class methodsFor: 'as yet unclassified' stamp: 'anele 6/21/2018 20:22'!perdida: unValor	perdida:= unValor! !Misil subclass: #Bazooca	instanceVariableNames: 'cabezasNucleares'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Bazooca methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:01'!impactar: unTanque unPromedio: unPromedio	self daño: (unPromedio/5) * perdida.	super impactar: unTanque  unPromedio: 0! !!Bazooca methodsFor: 'initialization' stamp: 'anele 6/21/2018 20:58'!initialize 	perdida := 2.	self cabezasNucleares: 4.! !!Bazooca methodsFor: 'accessing' stamp: 'anele 6/18/2018 18:10'!cabezasNucleares: unaCantidad	cabezasNucleares := unaCantidad ! !!Bazooca methodsFor: 'accessing' stamp: 'anele 6/18/2018 18:10'!cabezasNucleares^ cabezasNucleares ! !!Bazooca methodsFor: 'accessing' stamp: 'anele 6/18/2018 19:01'!daño	^ (self cabezasNucleares) * 2 * 5.! !!Bazooca methodsFor: 'printing' stamp: 'anele 6/21/2018 21:01'!printString	^ super printString,' con ', self cabezasNucleares asString, ' cabezas nucleares'.	! !Misil subclass: #CoheteGroso	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!CoheteGroso methodsFor: 'initialization' stamp: 'anele 6/21/2018 20:23'!initialize	perdida := 3.	self daño: 100.! !Misil subclass: #MisilTermico	instanceVariableNames: ''	classVariableNames: 'daño'	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!MisilTermico methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:05'!impactar: unTanque unPromedio: unPromedio	super impactar: unTanque unPromedio: 0.! !!MisilTermico methodsFor: 'accessing' stamp: 'anele 6/21/2018 20:31'!daño	^ self class daño! !!MisilTermico methodsFor: 'initialization' stamp: 'anele 6/21/2018 20:38'!initialize	self class daño: 25.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!MisilTermico class	instanceVariableNames: ''!!MisilTermico class methodsFor: 'accesing' stamp: 'anele 6/21/2018 20:40'!daño: unValor	daño:= unValor.! !!MisilTermico class methodsFor: 'accesing' stamp: 'anele 6/21/2018 20:41'!daño	^ daño! !Object subclass: #Modelo	instanceVariableNames: 'tripulantes'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Modelo commentStamp: 'anele 6/18/2018 17:53' prior: 0!un modelo!!Modelo methodsFor: 'accessing' stamp: 'anele 6/20/2018 16:51'!matarTripulante: unaCantidad	"recibe una cantidad de tripulantes a borrar"		| cantidad |	cantidad:= unaCantidad.	[tripulantes > 0 and: cantidad > 0] whileTrue: [ self tripulantes: tripulantes - 1. cantidad := cantidad -1 ].! !!Modelo methodsFor: 'accessing' stamp: 'anele 6/18/2018 17:55'!tripulantes^ tripulantes! !!Modelo methodsFor: 'accessing' stamp: 'anele 6/18/2018 17:55'!tripulantes: unaCantidad	tripulantes:= unaCantidad! !!Modelo methodsFor: 'accessing' stamp: 'anele 6/18/2018 22:45'!matarTripulante(tripulantes > 0) ifTrue: [ self tripulantes: tripulantes -1 ].! !Object subclass: #Tanque	instanceVariableNames: 'nombre velocidad velocidadMaxima blindaje misiles modelo'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Tanque commentStamp: 'anele 6/17/2018 13:20' prior: 0!Un tanque!!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 17:31'!tengoMuniciones	^ ((self misiles) size > 0)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/21/2018 20:17'!atacarTanque: unTanque	(self puedoDisparar) ifTrue: [self efectuarDisparo: unTanque.].	! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:28'!estaVivo^ (((self modelo tripulantes)>0) and: [self tengoMuniciones]) and: (self blindaje >0)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/19/2018 16:35'!dameUnaMunicion	|municion|	municion := (self misiles ) at: 1.	(self misiles) removeFirst.	^ municion.	! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 14:33'!emiteCalor^ ((self modelo) tripulantes > 3) or: self estaEnMovimiento! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 17:07'!atacarUnidad: unaUnidad	self atacarTanque: unaUnidad dameUnTanqueVivo. ! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 18:40'!generarMisiles: unaCantidad	|misilesStr colMisiles|	misilesStr := #(Bazooca MisilTermico CoheteGroso).	colMisiles:= OrderedCollection new.	unaCantidad timesRepeat: [ colMisiles add: (Object environment classNamed: (misilesStr at:((misilesStr size) atRandom))) new ].	^ colMisiles! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/21/2018 21:40'!recalcularVelocidad: unaVelocidad	(unaVelocidad > self velocidadMaxima) ifTrue:[self velocidad: self velocidadMaxima ] ifFalse: [ self velocidad: unaVelocidad ]! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 16:59'!hayPerdidadePrecision: unTanque	^ self estaEnMovimiento or: unTanque estaEnMovimiento ! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 14:01'!puedoDisparar	^ (self tengoMuniciones)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/17/2018 14:29'!estaEnMovimiento^ (self velocidad > 0)! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 14:22'!puedoAtacarEnMovimiento	"consulta si puedo atacar en movimiento. si tengo menos de 3 tripulantes debo quedarme quieto para atacar y no puedo atacar si me estoy moviendo"		(self modelo tripulantes < 3) ifTrue: [^(self estaEnMovimiento) not] ifFalse: [^true]! !!Tanque methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 16:53'!algunTanqueSeMueve: unTanque	^ self estaEnMovimiento or: unTanque estaEnMovimiento ! !!Tanque methodsFor: 'printing' stamp: 'anele 6/20/2018 17:11'!printString	^ nombre! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/18/2018 18:13'!modelo^ modelo! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/20/2018 16:10'!nombre	^ nombre! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/22/2018 19:07'!efectuarDisparo: unTanque	| municion |	municion := self dameUnaMunicion.	Transcript show: self nombre, ' ataca a ', unTanque nombre, ' con ', municion asString,'. '; cr.	municion impactar: unTanque unPromedio: (self velocidad + unTanque velocidad // 2).! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/18/2018 18:13'!modelo: unModelo modelo := unModelo ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:52'!velocidad^ velocidad ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/20/2018 16:10'!nombre: unNombre	nombre:= unNombre ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 14:57'!misiles	^ misiles ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:56'!blindaje: unBlindaje	blindaje:= unBlindaje ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:55'!velocidadMaxima^ velocidadMaxima ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:55'!velocidadMaxima: unaVelocidad	velocidadMaxima:= unaVelocidad ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:54'!velocidad: unaVelocidad	velocidad:= unaVelocidad! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 11:56'!blindaje	^blindaje! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/17/2018 13:21'!misiles: unaColMisiles	misiles:= unaColMisiles ! !!Tanque methodsFor: 'accessing' stamp: 'anele 6/21/2018 20:12'!decrementarBlindaje: unDañoTotal	"recibe un daño y si pasa 50 puntos va matando tripulantes"	self estaVivo ifTrue: [ self modelo matarTripulante: unDañoTotal // 50 ].	self blindaje: self blindaje - unDañoTotal.		Transcript show: self nombre, ' recibio ' , unDañoTotal asString,' puntos de daño.';cr.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tanque class	instanceVariableNames: 'velocidaad nombre'!Tanque subclass: #TanqueBlindajeEM	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!TanqueBlindajeEM methodsFor: 'initialization' stamp: 'anele 6/22/2018 17:32'!initialize	self nombre: 'Tanque Blindaje EM'.	self modelo: ((Modelo new) tripulantes: 5).	self blindaje: 100.	self velocidadMaxima: 70.	self misiles: (self generarMisiles: 15).! !!TanqueBlindajeEM methodsFor: 'accessing' stamp: 'anele 6/22/2018 13:44'!decrementarBlindaje: unDañoTotal	"calula el 80% del dañoTotal"	super decrementarBlindaje: (unDañoTotal*80 // 100)	! !Tanque subclass: #TanqueDron	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!TanqueDron methodsFor: 'initialization' stamp: 'anele 6/22/2018 22:25'!initialize	self nombre: 'Tanque Dron'.	self modelo: ((Modelo new) tripulantes: 0).	self blindaje: 75.	self velocidadMaxima: 100.	self misiles: (self generarMisiles: 10).		" esta mal generar misiles. debo generar 15 solo de bazooca con 4 cabezas. REFACTOR"! !!TanqueDron methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 14:32'!puedoAtacarEnMovimiento	^ true! !!TanqueDron methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 17:01'!hayPerdidadePrecision: unTanque	^ false! !Tanque subclass: #TanqueLiviano	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!TanqueLiviano methodsFor: 'initialization' stamp: 'anele 6/21/2018 18:18'!initialize	self nombre: 'Tanque Liviano'.	self modelo: ((Modelo new) tripulantes: 5).	self blindaje: 100.	self velocidadMaxima: 70.	self misiles: (self generarMisiles: 15).! !Tanque subclass: #TanquePesado	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!TanquePesado methodsFor: 'initialization' stamp: 'anele 6/21/2018 18:18'!initialize	self nombre: 'Tanque Pesado'.	self modelo: ((Modelo new) tripulantes: 4).	self blindaje: 150.	self velocidadMaxima: 50.	self misiles: (self generarMisiles: 20).! !Tanque subclass: #TanqueRapido	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!TanqueRapido methodsFor: 'initialization' stamp: 'anele 6/21/2018 18:17'!initialize	self nombre: 'Tanque Rapido'.	self modelo: ((Modelo new) tripulantes: 3).	self blindaje: 75.	self velocidadMaxima: 100.	self misiles: (self generarMisiles: 10).! !Object subclass: #Unidad	instanceVariableNames: 'nombre tanques'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp-final Smalltalk'!!Unidad commentStamp: 'anele 6/18/2018 22:38' prior: 0!una Unidad!!Unidad methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 22:19'!generarTanques	|tanquesStr colTanques|	tanquesStr := #(TanqueBlindajeEM TanqueLiviano TanquePesado TanqueRapido #TanqueDron).	colTanques:= OrderedCollection new.	5 timesRepeat: [colTanques add: (Object environment classNamed: (tanquesStr at:((tanquesStr size) atRandom))) new.].		^ colTanques! !!Unidad methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 13:38'!moverseA: unaVelocidad	(self tanques select: [:unTanque | unTanque estaVivo ]) do: [:unTanque | unTanque recalcularVelocidad: unaVelocidad].	! !!Unidad methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:13'!atacarUnidad: unaUnidad	(self tanques select: [:unTanque | unTanque estaVivo ]) do: [:unTanque | unTanque atacarUnidad: unaUnidad].! !!Unidad methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 18:45'!dameUnTanqueVivo	^ (self tanques) at: 1! !!Unidad methodsFor: 'as yet unclassified' stamp: 'anele 6/22/2018 19:21'!hayTanquesVivos	^ ((self tanques) size > 0)! !!Unidad methodsFor: 'accessing' stamp: 'anele 6/18/2018 22:41'!tanques: unaColTanques	tanques:= unaColTanques ! !!Unidad methodsFor: 'accessing' stamp: 'anele 6/18/2018 22:41'!tanques	^tanques ! !!Unidad methodsFor: 'accessing' stamp: 'anele 6/18/2018 22:40'!nombre: unNombre	nombre := unNombre ! !!Unidad methodsFor: 'accessing' stamp: 'anele 6/18/2018 22:40'!nombre	^nombre! !